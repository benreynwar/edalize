NAME := {{ name }}

all: $(NAME).bit

$(NAME).bit:  $(NAME)_run.tcl $(NAME).xpr
	vivado -mode batch -source $^

$(NAME).xpr: $(NAME).tcl
	vivado -mode batch -source $<

ifdef HWTARGET
program: $(NAME).bit $(NAME)_pgm.tcl
	vivado -mode batch -source $(NAME)_pgm.tcl -tclargs $(HWTARGET)
else
program: $(NAME).bit $(NAME)_pgm.tcl
	vivado -mode batch -source $(NAME)_pgm.tcl
endif
      

build-gui: $(NAME).xpr
	vivado $<
